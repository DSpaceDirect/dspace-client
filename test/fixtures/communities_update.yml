---
http_interactions:
- request:
    method: post
    uri: https://demo.dspacedirect.net/server/api/authn/login
    body:
      encoding: US-ASCII
      string: "<AUTHENTICATION>"
    headers:
      User-Agent:
      - Faraday v1.10.0
      Content-Type:
      - application/x-www-form-urlencoded
      X-XSRF-Token: []
  response:
    status:
      code: 403
      message: '403'
    headers:
      date:
      - Sat, 02 Jul 2022 21:44:11 GMT
      content-type:
      - application/json;charset=UTF-8
      transfer-encoding:
      - chunked
      connection:
      - keep-alive
      server:
      - Apache/2.4.53 (Unix)
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers
      set-cookie:
      - DSPACE-XSRF-COOKIE=f7e1c304-12e0-4c3c-b860-90a9a75e0be6; Path=/server; Secure;
        HttpOnly; SameSite=None
      dspace-xsrf-token:
      - f7e1c304-12e0-4c3c-b860-90a9a75e0be6
      x-content-type-options:
      - nosniff
      x-xss-protection:
      - 1; mode=block
      cache-control:
      - no-cache, no-store, max-age=0, must-revalidate
      pragma:
      - no-cache
      expires:
      - '0'
      strict-transport-security:
      - max-age=315360000, max-age=315360000
      x-frame-options:
      - SAMEORIGIN
      referrer-policy:
      - strict-origin-when-cross-origin
      permissions-policy:
      - interest-cohort=()
      content-security-policy:
      - 'default-src https: ''unsafe-inline'' ''unsafe-eval'''
      access-control-expose-headers:
      - Authorization, expires, Location, Content-Disposition, WWW-Authenticate, Set-Cookie,
        X-Requested-With, DSPACE-XSRF-TOKEN
    body:
      encoding: UTF-8
      string: '{"timestamp":"2022-07-02T21:44:11.886+00:00","status":403,"error":"Forbidden","message":"Access
        is denied. Invalid CSRF token.","path":"/server/api/authn/login"}'
  recorded_at: Sat, 02 Jul 2022 21:44:11 GMT
- request:
    method: post
    uri: https://demo.dspacedirect.net/server/api/authn/login
    body:
      encoding: US-ASCII
      string: "<AUTHENTICATION>"
    headers:
      User-Agent:
      - Faraday v1.10.0
      Content-Type:
      - application/x-www-form-urlencoded
      X-XSRF-Token:
      - f7e1c304-12e0-4c3c-b860-90a9a75e0be6
      Cookie:
      - DSPACE-XSRF-COOKIE=f7e1c304-12e0-4c3c-b860-90a9a75e0be6
  response:
    status:
      code: 200
      message: '200'
    headers:
      date:
      - Sat, 02 Jul 2022 21:44:12 GMT
      transfer-encoding:
      - chunked
      connection:
      - keep-alive
      server:
      - Apache/2.4.53 (Unix)
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers
      set-cookie:
      - DSPACE-XSRF-COOKIE=; Path=/server; Max-Age=0; Expires=Thu, 01 Jan 1970 00:00:00
        GMT; Secure; HttpOnly; SameSite=None, DSPACE-XSRF-COOKIE=dd9f6808-e475-4ed3-b631-3c8c662b782e;
        Path=/server; Secure; HttpOnly; SameSite=None
      dspace-xsrf-token:
      - dd9f6808-e475-4ed3-b631-3c8c662b782e
      authorization:
      - "<TOKEN>"
      x-content-type-options:
      - nosniff
      x-xss-protection:
      - 1; mode=block
      cache-control:
      - no-cache, no-store, max-age=0, must-revalidate
      pragma:
      - no-cache
      expires:
      - '0'
      strict-transport-security:
      - max-age=315360000, max-age=315360000
      x-frame-options:
      - SAMEORIGIN
      referrer-policy:
      - strict-origin-when-cross-origin
      permissions-policy:
      - interest-cohort=()
      content-security-policy:
      - 'default-src https: ''unsafe-inline'' ''unsafe-eval'''
      access-control-expose-headers:
      - Authorization, expires, Location, Content-Disposition, WWW-Authenticate, Set-Cookie,
        X-Requested-With, DSPACE-XSRF-TOKEN
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Sat, 02 Jul 2022 21:44:12 GMT
- request:
    method: patch
    uri: https://demo.dspacedirect.net/server/api/core/communities/41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd
    body:
      encoding: UTF-8
      string: '[{"op":"replace","path":"/metadata/dc.title/0","value":{"value":"DTS.COMMUNITY.002"}}]'
    headers:
      Authorization:
      - "<TOKEN>"
      X-XSRF-Token:
      - dd9f6808-e475-4ed3-b631-3c8c662b782e
      Cookie:
      - DSPACE-XSRF-COOKIE=dd9f6808-e475-4ed3-b631-3c8c662b782e
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: '200'
    headers:
      date:
      - Sat, 02 Jul 2022 21:44:13 GMT
      content-type:
      - application/hal+json;charset=UTF-8
      transfer-encoding:
      - chunked
      connection:
      - keep-alive
      server:
      - Apache/2.4.53 (Unix)
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers
      content-language:
      - en
      x-content-type-options:
      - nosniff
      x-xss-protection:
      - 1; mode=block
      cache-control:
      - no-cache, no-store, max-age=0, must-revalidate
      pragma:
      - no-cache
      expires:
      - '0'
      strict-transport-security:
      - max-age=315360000, max-age=315360000
      x-frame-options:
      - SAMEORIGIN
      referrer-policy:
      - strict-origin-when-cross-origin
      permissions-policy:
      - interest-cohort=()
      content-security-policy:
      - 'default-src https: ''unsafe-inline'' ''unsafe-eval'''
      access-control-expose-headers:
      - Authorization, expires, Location, Content-Disposition, WWW-Authenticate, Set-Cookie,
        X-Requested-With, DSPACE-XSRF-TOKEN
    body:
      encoding: UTF-8
      string: '{"id":"41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd","uuid":"41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd","name":"DTS.COMMUNITY.002","handle":"10673/2102","metadata":{"dc.identifier.uri":[{"value":"http://hdl.handle.net/10673/2102","language":null,"authority":null,"confidence":-1,"place":0}],"dc.title":[{"value":"DTS.COMMUNITY.002","language":null,"authority":null,"confidence":0,"place":0}]},"type":"community","_links":{"collections":{"href":"https://demo.dspacedirect.net/server/api/core/communities/41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd/collections"},"logo":{"href":"https://demo.dspacedirect.net/server/api/core/communities/41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd/logo"},"subcommunities":{"href":"https://demo.dspacedirect.net/server/api/core/communities/41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd/subcommunities"},"parentCommunity":{"href":"https://demo.dspacedirect.net/server/api/core/communities/41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd/parentCommunity"},"adminGroup":{"href":"https://demo.dspacedirect.net/server/api/core/communities/41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd/adminGroup"},"self":{"href":"https://demo.dspacedirect.net/server/api/core/communities/41a47b5c-f63c-4f5a-8d9e-0aeb4803f9fd"}}}'
  recorded_at: Sat, 02 Jul 2022 21:44:13 GMT
recorded_with: VCR 6.1.0
